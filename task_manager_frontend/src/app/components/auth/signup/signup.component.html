<div class="min-h-screen flex items-center justify-center bg-sky-100 p-4 font-sans">
    <div class="bg-white p-10 rounded-lg shadow-2xl w-full max-w-md">
        <h2 class="text-3xl font-bold text-center text-black mb-6">Sign Up</h2>

        <!-- Success and Error Messages -->
        <div *ngIf="successMessage" class="mb-4 p-2 bg-green-200 text-green-800 rounded">
            {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="mb-4 p-2 bg-red-200 text-red-800 rounded">
            {{ errorMessage }}
        </div>

        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="p-4 rounded shadow-md">
            <!-- First Name -->
            <div class="mb-4">
                <label for="first_name" class="block text-[#3d3d3db3] font-medium mb-1">First Name</label>
                <input id="first_name" type="text" formControlName="first_name" placeholder="Enter your first name"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none">
                <div *ngIf="signupForm.get('first_name')?.invalid && (signupForm.get('first_name')?.touched || submitted)"
                    class="text-red-500 text-sm mt-1">
                    First Name is required.
                </div>
            </div>

            <!-- Last Name -->
            <div class="mb-4">
                <label for="last_name" class="block text-[#3d3d3db3] font-medium mb-1">Last Name</label>
                <input id="last_name" type="text" formControlName="last_name" placeholder="Enter your last name"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none">
                <div *ngIf="signupForm.get('last_name')?.invalid && (signupForm.get('last_name')?.touched || submitted)"
                    class="text-red-500 text-sm mt-1">
                    Last Name is required.
                </div>
            </div>

            <!-- Email -->
            <div class="mb-4">
                <label for="email" class="block text-[#3d3d3db3] font-medium mb-1">Email</label>
                <input id="email" type="email" formControlName="email" placeholder="Enter your email"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none">
                <div *ngIf="signupForm.get('email')?.invalid && (signupForm.get('email')?.touched || submitted)"
                    class="text-red-500 text-sm mt-1">
                    <span *ngIf="signupForm.get('email')?.errors?.['required']">Email is required.</span>
                    <span *ngIf="signupForm.get('email')?.errors?.['email']">Enter a valid email.</span>
                </div>
            </div>

            <!-- Password -->
            <div class="mb-6">
                <label for="password" class="block text-[#3d3d3db3] font-medium mb-1">Password</label>
                <input id="password" type="password" formControlName="password" placeholder="Enter your password"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none">
                <div *ngIf="signupForm.get('password')?.invalid && (signupForm.get('password')?.touched || submitted)"
                    class="text-red-500 text-sm mt-1">
                    Password is required.
                </div>
            </div>

            <button type="submit"
                class="w-full bg-sky-500 text-white py-2 rounded hover:bg-sky-600 transition-colors duration-200 flex items-center justify-center">
                <!-- Spinner: Displayed when loading -->
                <ng-container *ngIf="loading">
                    <svg class="animate-spin h-5 w-5 mr-2 inline-block" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                        </circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"></path>
                    </svg>
                </ng-container>
                <span>Sign Up</span>
            </button>
        </form>

        <p class="mt-6 text-center text-black text-sm">
            Already a user?
            <a routerLink="/auth/login" class="text-sky-500 hover:text-sky-700 font-medium hover:underline">
                Login
            </a>
        </p>
    </div>
</div>